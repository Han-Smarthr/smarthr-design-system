---
title: 'FormControl'
description: ''
---
import { ComponentPropsTable } from '@Components/ComponentPropsTable'
import { ComponentStory } from '@Components/ComponentStory'
import {
  FaExclamationCircleIcon,
  StatusLabel,
} from 'smarthr-ui'

FormControlコンポーネントは、フォームとしての入力要素に対応するラベルとメッセージテキストを、目的にあわせて適切に表示するためのコンポーネントです。

<ComponentStory name="FormControl" />

## 使用上の注意

### 入力要素が1つの場合にのみ使用する

FormControlは、入力要素が1つだけしか存在しない場合にのみ使用できます。

姓名や電話番号のように値を分割して入力する場合や、CheckboxやRadioButtonといった複数の入力要素を持つフォームに対してラベルやメッセージテキストを表示したい場合は、[Fieldset](/products/components/fieldset/)を使用することを検討してください。

## レイアウト

ステータスラベルやメッセージテキストの有無で、コンポーネント内のレイアウトにバリエーションがあります。

### ステータスラベルの有無

フォーム入力が入力必須か任意かをユーザーが区別できるようにするために使用します。
代表的なステータスラベルは次の通りです。

| 種類 | 表示例 | 説明 |
| :--- | :--- | :--- |
| `必須` | <StatusLabel type="red">必須</StatusLabel> | 入力必須のフォームの場合に表示します。 |
| `任意` | <StatusLabel type="grey">任意</StatusLabel> | 任意のフォームの場合に表示します。 |

#### フォーム入力が必須の場合の表示例

```tsx editable codeBlock
<FormControl
  title="タイトル"
  statusLabelProps={{ type: 'red', children: '必須' }}
>
  <Input name="defaultInput" />
</FormControl>
```

#### フォーム入力が任意の場合の表示例

```tsx editable codeBlock
<FormControl
  title="タイトル"
  statusLabelProps={{ type: 'grey', children: '任意' }}
>
  <Input name="defaultInput" />
</FormControl>
```

#### ステータスラベルの省略について

以下のような状況に応じて、ステータスラベルを省略する場合があります。

- フォーム入力が極めて少なく、すべて必須であることが自明な場合、必須を省略
- 任意のフォームよりも入力必須のフォームが多い場合、任意のみ表示し必須を省略
- フォームの説明文などで、すべての項目が必須、または任意であることが明記されている場合、ラベルを省略

### メッセージテキストの有無

以下の種類別のメッセージテキストを目的に応じて組み合わせて使用できます。

| 種類 | Props | 説明 |
| :--- | :--- | :--- |
| `ヘルプメッセージ` | `helpMessage` | 入力して欲しい内容を具体的に伝えるテキストを入力要素の上に表示します。必要に応じて関連するヘルプページなどへのテキストリンクを設置できます。テキストリンクの詳細は[ヘルプページへの動線](/products/design-patterns/help-link/#h3-2)を参照してください。 |
| `入力例` | `exampleMessage` | フォームの入力例を入力要素の上に表示します。原則として入力要素の`placeholder`はユーザビリティおよびアクセシビリティの観点から非推奨としているため、その代替として使用してください。 |
| `エラーメッセージ` | `errorMessages` | フォームバリデーションなどで、適切な値が入力されていないことを伝えるテキストを、<FaExclamationCircleIcon alt="エラーメッセージ" color="DANGER" /> アイコン（`FaExclamationCircle`）とあわせて入力要素の上に表示します。 |
| `補足メッセージ` | `supplementaryMessage` | 入力時にユーザーが把握しなくても操作に影響のない情報を入力要素の下に表示します。 |

#### メッセージテキストの表示例

```tsx editable codeBlock
<FormControl
  title="タイトル"
  helpMessage="ヘルプメッセージ"
  exampleMessage="入力例"
  errorMessages={'エラーメッセージ'}
  supplementaryMessage="補足メッセージ"
>
  <Input error />
</FormControl>
```

#### エラーメッセージについて

エラーメッセージは、入力必須の入力要素の値が空の場合や、データ型が異なるなどの適切な値が入力されていない場合に表示してください。

その際、どの入力要素がエラーとなっているかを視覚的に見つけやすくするために、入力要素にも`error`状態を付加します。

##### 初期状態の場合

```tsx editable codeBlock
<FormControl
  title="氏名"
  helpMessage="氏名を入力してください。"
  exampleMessage="入力例：須磨栄子"
  supplementaryMessage="その他ご不明な点がありましたら、サポートまでお問い合わせください。"
>
  <Input name="fullname" width="100%" />
</FormControl>
```

##### 適切な値が入力されていない場合

```tsx editable codeBlock
<FormControl
  title="氏名"
  helpMessage="氏名を入力してください。"
  exampleMessage="入力例：須磨栄子"
  errorMessages={'氏名が入力されていません。'}
  supplementaryMessage="その他ご不明な点がありましたら、サポートまでお問い合わせください。"
>
  <Input error name="fullname" width="100%" />
</FormControl>
```

## 状態

### 無効（disabled）

フォームの操作ができない状態を表現したスタイルです。

FormControlに`disabled`を適用すると、内包する入力要素にも自動で`disabled`が適用されるため、個別に設定する必要はありません。

ユーザーはなぜ無効になっているのかわからないことがあります。[権限による表示制御](/products/design-patterns/access-control-pattern/)のデザインパターンを参考にして、そもそも無効ではなくフォーム自体を非表示にしたり、無効状態の理由を付近に表示することを検討してください。

```tsx editable codeBlock
<FormControl
  title="氏名"
  disabled
  helpMessage="氏名を入力してください。"
  exampleMessage="入力例：須磨栄子"
  supplementaryMessage="その他ご不明な点がありましたら、サポートまでお問い合わせください。"
>
  <Input name="fullname" width="100%" />
</FormControl>
```

### 読み取り専用表示について

FormControl自体には、読み取り専用の状態は存在しません。

入力内容の確認時など、すでに入力済みの書き換えできない値として表示する際は、[Input](/products/components/input/)の`readOnly`を使用してください。

```tsx editable codeBlock
<FormControl title="氏名">
  <Input name="fullname" value="草野栄一郎" readOnly />
</FormControl>
```

## ライティング

### メッセージテキストの書き方

WIP

## アクセシビリティ

WIP

## デザインパターン

WIP

## Props

<ComponentPropsTable name="FormControl" />
