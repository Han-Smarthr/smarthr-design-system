---
title: 'フィードバック'
description: '操作の結果やユーザーが開始した処理の状況を伝えるUIのルールを定義します。'
order: 13
---

ユーザーに操作の結果を伝えるUIのルールを定義します。

## 基本的な考え方

フィードバックは、ユーザーが操作の結果を理解し、次の行動を判断するために重要です。ユーザーがシステムに何らかの操作をした際は受動的にその結果を認識できるよう、素早く画面上にフィードバックを表示してください。

### アクセシビリティ

#### 操作部の近くでフィードバックする

ユーザーは画面の全領域の変化に常に気づくとは限りません。特に拡大鏡を利用する弱視・ロービジョンのユーザーは、拡大表示範囲外の変化を認識できません。  
可能な限り、直前までユーザーが操作していた要素の近くか、コンポーネント自体の変化で操作の結果をフィードバックします。

関連リンク：[弱視・ロービジョンのユーザーのウェブ利用時の課題と解決案](/accessibility/low-vision/)

#### スクリーンリーダーでの読み上げ順序を考慮する

[WIP]

## 状況に応じたパターン
操作の結果をフィードバックする代表的な状況には以下の3つが挙げられます。

1. フォームの入力時
1. 処理の実行時
<!-- textlint-disable -->
1. ページとその要素の読み込み時
<!-- textlint-enable -->

### フォームの入力時

ここでは、フォーム関連コンテンツへの入力時のフィードバックについて説明します。フォーム関連コンテンツへ入力であっても、それが処理の実行を即時的に引き起こす場合は処理の実行を参照してください。  
フォームの入力時には、主に入力内容が不正である場合のエラーメッセージを表示します。  
エラーメッセージは、ユーザーが入力を完了し、当該要素からフォーカスが外れたタイミングで表示してください。再入力が完了し、エラーの原因が解消された場合はエラーメッセージの表示を止めます。  
基本的に[FormControl](/products/components/form-control/)か[Fieldset](/products/components/fieldset/)のerrorMessagesオプションを利用して表示します。FormControlの場合はさらに入力要素にerror状態を付与します。

### 処理の実行時

ここでは、同期的に実行される処理に対するフィードバックについて説明します。非同期処理のフィードバックについては、[バックグラウンド処理](/products/design-patterns/background-jobs-results/)を参照してください。  
処理の実行時のフィードバックには、処理中のフィードバックと結果のフィードバック（成功時・失敗時）があります。まず、処理中であることを示し、処理が完了したらその結果を表示します。


#### 処理中のフィードバック
処理中であることをフィードバックするUIの考え方は以下の通りです。

1. Buttonの押下によって処理が実行された場合
    - ButtonのLoadingオプションを利用します。
1. Button以外の操作によって処理が実行された場合
    1. まず、ユーザーが直前に操作していた要素の近くにsync状態のResponseMessageを表示することを検討します。
    1. ユーザーが直前に操作していた要素の近くに表示することが難しい場合、sync状態のNotificationBarを表示します。
        - 例：操作後に画面全体の切り替えが発生する場合

#### 結果のフィードバック

結果をフィードバックするUIの考え方は以下の通りです。
1. まず、ユーザーが直前に操作していたButtonなどの近くにResponseMessageを表示することを検討します。
1. ユーザーが直前に操作していたButtonなどの近くに表示するのが難しい場合はNotificationBarの利用を検討します。 
    - 例：操作後にダイアログ・画面全体の切り替えが発生する場合や、ダイアログが消えて元の画面に戻る場合
1. また、記載する情報が多くResponseMessageやNotificationBarでは表示しきれない場合はInformationPanelの利用を検討します。

成功時にはsuccess状態のResponseMessage, NotificationBar, InformationPanelを表示します。
失敗時にはerror状態のResponseMessage, NotificationBar, InformationPanelを表示します。

また、成功時のフィードバックは成功したことが自明である場合は省略できますがユーザーが状態を正しく理解できるよう十分に注意してください。  
- 例：オブジェクトの新規インスタンスを作成すると、作成された新規インスタンスの詳細画面へ自動的に移動する場合, Switchなど、コンポーネント自体がその状態を示す場合

<!-- textlint-disable -->

### ページとその要素の読み込み時

<!-- textlint-enable -->

ここでは、ユーザーがページを開いた際、再読み込みした際、ページ内の一部要素が再読み込みされる際のフィードバックについて説明します。  
ページとその要素の読み込み時のフィードバックには、処理中のフィードバックと結果のフィードバック（失敗時）があります。まず、処理中であることを示し、読み込みに失敗したらその結果を表示します。成功時は、要素が表示されることでその結果が自明であるため、フィードバックのためのUIは表示しません。

#### 処理中のフィードバック

処理中のフィードバックには、Loaderを利用してください。読み込みの対象となっている領域にLoaderを表示します。

#### 結果のフィードバック

結果をフィードバックするUIの考え方は以下の通りです。
1. ページ全体の表示に失敗した場合
    - ErrorScreenを利用します。
1. 特定の要素の表示に失敗した場合
    - NotificationBarを表示します。