---
title: 'エラーの発生とエラーの内容が特定できる'
description: ' '
order: 73
---

## 概要
この基準は、操作中にエラーが発生したときに、そのエラーが何であり、どこで起きたのかをはっきりと示すことを求めています。さらに、スクリーンリーダーを含むすべてのユーザーがエラーメッセージに気づけるように、`aria-live` 属性などを利用してエラーメッセージを通知します。

## メリット
1. **すべてのユーザー**: エラーがどこで、何のために起きたのかがすぐにわかるため、フォームの修正や操作の再試行がしやすくなります。
2. **視覚障害のあるユーザー**: `aria-live` 属性により、スクリーンリーダーがエラーメッセージを読み上げ、エラーの存在と内容を把握できます。(参考: ARIA ライブリージョン - アクセシビリティ | MDN)
3. **認知障害のあるユーザー**: エラーが明確に示され、その修正方法が具体的に説明されるため、操作がわかりやすくなります。

## 達成方法
1. **エラーの位置と内容を明確にする**:
    - エラーが起きた場所（例えば、特定のフォームフィールド）の近くに、エラーの内容と修正方法を明確に示すメッセージを表示します。

2. **スクリーンリーダーへのエラーメッセージ通知**:
    - `aria-live` 属性を使用してエラーメッセージが表示されると同時にスクリーンリーダーがその内容を読み上げるようにします。これにより、視覚障害のあるユーザーもエラーメッセージの表示を即座に把握できるようになります。

### `aria-live`を使ったエラー通知のHTML コードサンプル:
```html
<!-- エラーメッセージコンテナ -->
<div id="error-message" aria-live="polite" style="visibility: hidden;">
  <!-- エラーメッセージがここに表示される -->
</div>

<script>
  // エラーが発生した場合の処理
  function showError(message) {
    const errorContainer = document.getElementById('error-message');
    errorContainer.textContent = message; // エラーメッセージをセット
    errorContainer.style.visibility = 'visible'; // エラーメッセージを表示
  }
</script>
```

このコードでは、エラーが発生した際に、`showError`関数が呼び出され、エラーメッセージが`<div>`要素に表示されます。`aria-live="assertive"`属性により、エラーメッセージが表示されるとすぐにスクリーンリーダーがメッセージを読み上げます。

## テスト方法
1. **エラーメッセージの視覚的確認**:
    - フォームを意図的に誤って記入して送信し、エラーメッセージが適切な位置に表示され、内容が明確であるかを確認します。
2. **スクリーンリーダーでのエラーメッセージの確認**:
    - スクリーンリーダーを使用してフォームを操作し、エラーメッセージが表示される際に、その内容がスクリーンリーダーによって即座に読み上げられるかをテストします。`aria-live` 属性がエラーメッセージのスクリーンリーダーへの通知に効果的に機能しているかを確認します。
3. **エラーメッセージの内容と表示の一貫性の評価**:
    - エラーメッセージが明確で理解しやすい内容であり、視覚的にもスクリーンリーダーを通じても同じ情報が伝わるかを評価します。また、`aria-live` 属性によってスクリーンリーダーがエラーメッセージを適切なタイミングで読み上げるかどうかもチェックします。

## 関連するWCAG2.1達成基準
- [達成基準 3.3.1: エラーの特定を理解する](https://waic.jp/translations/WCAG21/Understanding/error-identification)
